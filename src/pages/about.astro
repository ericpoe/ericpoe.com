---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import { slugify } from '../utils/slugify';

const posts = await getCollection('blog');
const tags = Array.from(new Set(posts.flatMap((post) => post.data.tags ?? []).filter(Boolean))).sort((a, b) =>
  a.localeCompare(b),
);
---

<style>
  @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap');

  .script-name {
    font-family: 'Caveat', cursive;
  }
</style>

<BaseLayout title="About" pathname="/about">
  <section class="max-w-3xl w-full mx-auto px-4 md:px-6 py-10 md:py-12 space-y-6">
    <h1 class="text-3xl md:text-4xl font-semibold text-indigo-900 dark:text-indigo-100">About Me</h1>

    <!-- Hello My Name Is sticker -->
    <div class="flex justify-center">
      <div
        class="w-72 md:w-80 rounded-lg shadow-lg overflow-hidden transform rotate-[-2deg] hover:rotate-0 transition-transform duration-400"
      >
        <!-- Top section -->
        <div class="bg-indigo-900 dark:bg-indigo-800 px-4 pt-4 pb-2 text-center">
          <p class="text-white text-xl md:text-2xl font-bold uppercase tracking-widest m-0">Hello</p>
          <p class="text-white text-sm md:text-base font-bold lowercase tracking-wide m-0">My Name Is</p>
        </div>
        <!-- Name section -->
        <div class="bg-white dark:bg-gray-100 px-4 py-6 md:py-8 text-center">
          <p class="script-name text-indigo-900 text-4xl md:text-5xl m-0">Eric Poe</p>
        </div>
        <!-- Bottom section -->
        <div class="bg-indigo-900 dark:bg-indigo-800 h-4 md:h-5"></div>
      </div>
    </div>

    <div class="prose prose-slate dark:prose-invert max-w-none text-gray-900 dark:text-gray-100">
      <p>I'm a software-developer manager in the Kansas City area.</p>
      <p>
        I'd like to think that I would be described by <a
          href="https://hitchhikers.fandom.com/wiki/Gag_Halfrunt"
          title="Info about Gag Halfrunt from the Hitchhicker's Guide to the Galaxy"
        >
          Gag Halfrunt</a
        > as "Just zis guy, you know?" Yet, I am merely a recovering English Literature major, who ended up with a bachelor's
        degree in Information Technology (Computer Science with an emphasis in Business), science groupie, dad to two amazing
        humans (it's their mother's fault), accidental Talmud student via <a
          href="https://www.myjewishlearning.com/article/daf-yomi/"
          title="My Jewish Learning: Daf Yomi - This global project of Jewish learning, now accessible to all"
          >Daf Yomi</a
        >, composer, half-knit/half-wit, poetaster, dad-joke aficionado, and permanent student of everything.
      </p>
      <p>Originally, this was a monument to a self-inflated ego, but I have mellowed over the years.</p>

      <p>I am a work in progress.</p>
    </div>

    <div class="space-y-3">
      <h2 class="text-xl md:text-2xl font-semibold text-indigo-900 dark:text-indigo-100">Topics</h2>
      <div class="flex flex-wrap gap-2">
        {
          tags.map((tag) => (
            <a
              href={`/tag/${slugify(tag)}/`}
              class="inline-block px-3 py-1 text-sm font-medium text-indigo-700 dark:text-indigo-300 bg-indigo-100 dark:bg-indigo-900 rounded-full hover:bg-indigo-200 dark:hover:bg-indigo-800 no-underline"
            >
              {tag}
            </a>
          ))
        }
      </div>
    </div>
  </section>
</BaseLayout>
